<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - LocalScout</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#007bff',
                        'primary-dark': '#0056b3',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <style>
        @@keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @@keyframes successPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .form-step {
            display: none;
            animation: slideIn 0.4s ease;
        }

        .form-step.active {
            display: block;
        }

        .step.completed .step-circle {
            animation: successPulse 0.6s ease;
        }

        /* Bootstrap form validation compatibility */
        .form-control.is-valid {
            border-color: #28a745;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        .form-control.is-invalid {
            border-color: #dc3545;
        }

        /* Ensure two-column layout stays visible */
        @@media (max-width: 768px) {
            .auth-left-panel {
                display: none !important;
            }
        }
    </style>

    @await RenderSectionAsync("Styles", required: false)
</head>

<body class="bg-gray-50 flex items-center justify-center min-h-screen m-0 p-2">
    <div class="flex flex-col md:flex-row bg-white rounded-2xl shadow-2xl overflow-hidden max-w-6xl w-full"
         style="min-height: 500px; max-height: 96vh;">
        <!-- Left Column -->
        <div class="auth-left-panel bg-gradient-to-br from-blue-700 to-blue-500 text-white p-8 flex flex-col justify-between items-center text-center w-full md:w-[36%] relative">
            <!-- Back to Home button -->
            <div class="absolute top-5 left-5">
                <a href="/"
                   class="inline-flex items-center gap-2 text-white/90 no-underline text-sm font-semibold px-3 py-2 rounded-lg transition-all duration-300 bg-white/10 border border-white/20 hover:bg-white/20 hover:border-white/30 hover:-translate-x-0.5">
                    <i class="fas fa-home text-sm"></i>
                    <span>Back to Home</span>
                </a>
            </div>

            <!-- Main content centered -->
            <div class="flex flex-col justify-center items-center flex-1">
                <img src="~/images/LocalScoutLogo.png" alt="LocalScout Logo" class="max-w-[120px] mb-3" />
                <h3 class="text-2xl font-bold mb-2">Welcome to LocalScout</h3>
                <p class="text-base leading-relaxed mb-5">
                    Find trusted local professionals right in your neighborhood.
                </p>

                @if (IsSectionDefined("LeftPanelLink"))
                {
                    <div class="mt-4 pt-4 border-t border-white/20 text-sm">
                        @RenderSection("LeftPanelLink", required: false)
                    </div>
                }
            </div>
        </div>

        <!-- Right Column (Renders the specific page) -->
        <div class="p-6 md:p-8 w-full md:w-[64%] flex flex-col overflow-y-auto"
             style="max-height: 96vh;">
            @RenderBody()
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
